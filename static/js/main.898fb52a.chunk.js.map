{"version":3,"sources":["components/app-context/app-context.js","components/shared/mini-card/mini-card.js","components/shared/media-image/media-image.js","components/shared/loader/loader.js","plugins/lazy-view-builder.js","components/shared/use-query-string/use-query-string.js","components/shared/use-data-fetching/use-data-fetching.js","components/layout/theme-mode-switch/light-mode-icon-24px.svg","components/layout/theme-mode-switch/dark-mode-icon-24px.svg","components/layout/theme-mode-switch/theme-mode-switch.js","components/layout/searcher/search-result/search-result.js","components/layout/searcher/searcher.js","components/shared/error-modal/error-modal.js","components/layout/layout-app.js","components/shared/scroll-to-top/scroll-to-top.js","App.js","serviceWorker.js","plugins/api-client.js","index.js"],"names":["THEME_MODES","LIGHT","DARK","STORAGE_THEME_MODE_KEY","AppContext","React","createContext","apiClient","undefined","userId","imagesConfig","error","setError","themeMode","toggleThemeMode","AppProvider","children","useState","initialThemeMode","localStorage","getItem","setThemeMode","providerInitialValue","newThemeMode","setItem","Provider","value","useAppContext","context","useContext","Error","MiniCard","className","Media","Title","noMultiline","Subtitle","MediaImage","path","type","sizes","ratio","rest","$img","useRef","configSizes","filter","size","test","useEffect","current","clientHeight","clientWidth","Math","trunc","src","srcSet","map","baseUrl","substr","ref","style","width","Loader","buildLazyView","viewComponentLoader","lazy","Promise","resolve","reject","then","Component","default","urlParams","useParams","urlQueryString","URLSearchParams","useLocation","search","query","params","isFetching","setIsFetching","data","setData","paramsHash","btoa","JSON","stringify","ignore","sendQuery","variables","result","errors","catch","a","async","stack","json","useDataFetching","buildDataFetchRequestData","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","fill","d","_ref","svgRef","title","props","height","viewBox","ForwardRef","forwardRef","id","x","y","enableBackground","xmlSpace","ThemModeSwitch","onClick","onKeyDown","role","tabIndex","SearchResult","tvShow","to","backdropImagePath","alt","name","SEARCH_QUERY","Searcher","hasFocus","setFocus","searchTerm","setSearchTerm","searchResults","setSearchResults","document","addEventListener","event","closest","onSubmit","preventDefault","results","searchTvShows","console","placeholder","onFocus","onChange","ErrorModal","LayoutApp","data-thememode","ScrollToTop","pathname","window","scroll","top","left","behavior","HomeView","TvShowDetailView","SeasonDetailView","basename","App","fallback","exact","Boolean","location","hostname","match","ApiClient","apiUrl","client","GraphQLClient","headers","userToken","request","mutation","fragmentDefinition","createFragment","API_URL","Date","now","getUserId","getImagesConfiguration","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.898fb52a.chunk.js","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { object, string, node } from 'prop-types';\n\nexport const THEME_MODES = {\n\tLIGHT: 'light',\n\tDARK: 'dark'\n}\n\nconst STORAGE_THEME_MODE_KEY = 'tmk';\n\nconst AppContext = React.createContext({\n\tapiClient: undefined,\n\tuserId: undefined,\n\timagesConfig: {},\n\terror: null,\n\tsetError: () => false,\n\tthemeMode: undefined,\n\ttoggleThemeMode: () => false\n});\n\nexport function AppProvider({ apiClient, userId, imagesConfig, children } ) {\n\tconst [error, setError] = useState(null);\n\tconst initialThemeMode = localStorage.getItem(STORAGE_THEME_MODE_KEY) || THEME_MODES.LIGHT;\n\tconst [themeMode, setThemeMode] = useState(initialThemeMode);\n\tconst providerInitialValue = {\n\t\tapiClient, \n\t\tuserId, \n\t\timagesConfig, \n\t\terror, \n\t\tsetError,\n\t\tthemeMode: initialThemeMode,\n\t\ttoggleThemeMode: () => {\n\t\t\tconst newThemeMode = themeMode !== THEME_MODES.LIGHT ? THEME_MODES.LIGHT : THEME_MODES.DARK;\n\t\t\tsetThemeMode(newThemeMode);\n\t\t\tlocalStorage.setItem(STORAGE_THEME_MODE_KEY, newThemeMode);\n\t\t}\n\t};\n\n\treturn (\n\t\t<AppContext.Provider value={providerInitialValue}>\n\t\t\t{children}\n\t\t</AppContext.Provider>\n\t);\n}\n\nAppProvider.propTypes = {\n\tapiClient: object.isRequired,\n\tuserId: string.isRequired,\n\timagesConfig: object.isRequired,\n\tchildren: node.isRequired\n};\n\nexport function useAppContext() {\n\tconst context = useContext(AppContext);\n\tif (!context) {\n\t\tthrow new Error('useAppContext must be used within an AppContext.Provider')\n\t}\n\treturn context;\n}\n","import React from 'react';\nimport { string, node, bool } from 'prop-types';\n\nimport './mini-card.css';\n\nconst Media = ({ children, className = '' }) => \n\t(<span className={`mini-card__media ${className}`}>{children}</span>);\nconst Title = ({ children, noMultiline = false, className = '' }) => \n\t(<span className={`mini-card__title ${noMultiline ? 'mini-card__title--no-multiline' : ''} ${className}`}>{children}</span>);\nconst Subtitle = ({ children, className = '' }) => \n\t(<span className={`mini-card__subtitle ${className}`}>{children}</span>);\n\nfunction MiniCard({ children, className = '' }) {\n\treturn (\n\t\t<div className={`mini-card ${className}`}>\n\t\t\t{children}\n\t\t</div>\n\t);\n\t\n}\n\nMedia.propTypes = {\n\tclassName: string,\n\tchildren: node.isRequired\n};\nTitle.propTypes = {\n\tclassName: string,\n\tnoMultiline: bool,\n\tchildren: node.isRequired\n}\nSubtitle.propTypes = {\n\tclassName: string,\n\tchildren: node.isRequired\n};\n\nMiniCard.propTypes = {\n\tclassName: string,\n\tchildren: node.isRequired\n};\n\nMiniCard.Media = Media;\nMiniCard.Title = Title;\nMiniCard.Subtitle = Subtitle;\n\nexport default MiniCard;\n","import React, { useRef, useEffect } from 'react';\nimport { string, number } from 'prop-types';\n\nimport { useAppContext } from '../../app-context/app-context';\n\n/*\n\t*sizes* attribute is to tell the browser how much width the image will use\n\tfrom the total available\n\t(https://web.dev/use-srcset-to-automatically-choose-the-right-image/#what-about-the-display-size-of-the-image)\n*/\nfunction MediaImage({ \n\tpath, \n\ttype = 'poster', \n\tsizes = '', \n\tratio,\n\tclassName = '', \n\t...rest \n}) {\n\tconst { imagesConfig } = useAppContext();\n\tconst $img = useRef(null);\n\tconst configSizes = imagesConfig[`${type}Sizes`].filter(size => /^w/.test(size));\n\t\n\tuseEffect(() => {\n\t\tif (!path) {\n\t\t\tlet { clientHeight, clientWidth } = $img.current;\n\t\t\tif (ratio) clientHeight = Math.trunc(clientWidth / ratio);\n\t\t\t$img.current.src = `https://picsum.photos/id/1025/${clientWidth}/${clientHeight}?grayscale`;\n\t\t}\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tif (path) {\n\t\trest.srcSet = configSizes.map(size => (\n\t\t\t`${imagesConfig.baseUrl}${size}${path} ${size.substr(1)}w`\n\t\t));\n\t}\n\t\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/alt-text\n\t\t<img \n\t\t\tref={$img}\n\t\t\tclassName={`media-image ${className}`}\n\t\t\tsrc=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\"\n\t\t\tsizes={sizes}\n\t\t\tstyle={{ width: '100%' }}\n\t\t\t{...rest} />\n\t);\n\n}\n\nMediaImage.propTypes = {\n\tpath: string, \n\ttype: string,\n\tsizes: string, \n\tratio: number,\n\tclassName: string\n};\n\nexport default MediaImage;\n","import React from 'react';\n\nimport './loader.css';\n\nfunction Loader() {\n\treturn (\n\t\t<div className=\"app-loader\">\n\t\t\t<div className=\"app-loader-icon\"></div>\n\t\t</div>\n\t);\n}\n\nexport default Loader;\n","import React, { lazy } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport useQueryString from '../components/shared/use-query-string/use-query-string';\nimport useDataFetching from '../components/shared/use-data-fetching/use-data-fetching';\n\nimport Loader from '../components/shared/loader/loader';\n\nexport default function buildLazyView(viewComponentLoader) {\n\treturn lazy(() => {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tviewComponentLoader()\n\t\t\t.then(({ default: Component}) => {\n\t\t\t\tfunction LazyView() {\n\t\t\t\t\tconst urlParams = useParams();\n\t\t\t\t\tconst urlQueryString = useQueryString();\n\t\t\t\t\tconst {\n\t\t\t\t\t\tisFetching,\n\t\t\t\t\t\tdata\n\t\t\t\t\t} = useDataFetching(\n\t\t\t\t\t\tComponent.buildDataFetchRequestData({\n\t\t\t\t\t\t\turlParams,\n\t\t\t\t\t\t\turlQueryString\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\t\n\t\t\t\t\tif (isFetching) return <Loader />;\n\t\t\t\t\tif (!data) return null;\n\t\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Component \n\t\t\t\t\t\t\tdata={data} \n\t\t\t\t\t\t\turlParams={urlParams}\n\t\t\t\t\t\t\turlQueryString={urlQueryString}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tresolve({ 'default': LazyView });\n\t\t\t})\n\t\t\t.catch(reject);\n\t\t});\n\t});\n}\n","import { useLocation } from 'react-router-dom';\n\nexport default function useQueryString() {\n\treturn new URLSearchParams(useLocation().search);\n}\n","import { useState, useEffect } from 'react';\nimport { useAppContext } from '../../app-context/app-context';\n\nexport default function useDataFetching({\n\tquery, params = {}\n}) {\n\tconst { apiClient, setError } = useAppContext();\n\tconst [isFetching, setIsFetching] = useState(true);\n\tconst [data, setData] = useState();\n\tconst paramsHash = btoa(JSON.stringify(params));\n\t\n\tuseEffect(() => {\n\t\tlet ignore = false;\n\t\tsetIsFetching(true);\n\t\tapiClient.sendQuery({ query, variables: params })\n\t\t.then(result => {\n\t\t\tif (ignore) return null;\n\n\t\t\tif (result.errors) {\n\t\t\t\tsetError(result.errors);\n\t\t\t} else {\n\t\t\t\tsetData(result.data);\n\t\t\t}\n\t\t\t\n\t\t\tsetIsFetching(false);\n\t\t})\n\t\t.catch(async ([error]) => {\n\t\t\tconst { errors } = await error.stack.json();\n\t\t\tsetError(errors[0]);\n\t\t\tsetIsFetching(false);\n\t\t});\n\n\t\treturn () => ignore = true;\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [paramsHash]);\n\t\n\treturn {\n\t\tisFetching,\n\t\tdata\n\t};\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79zM1 10.5h3v2H1zM11 .55h2V3.5h-2zm8.04 2.495l1.408 1.407-1.79 1.79-1.407-1.408zm-1.8 15.115l1.79 1.8 1.41-1.41-1.8-1.79zM20 10.5h3v2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm-1 4h2v2.95h-2zm-7.45-.96l1.41 1.41 1.79-1.8-1.41-1.41z\"\n});\n\nvar SvgLightModeIcon24Px = function SvgLightModeIcon24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgLightModeIcon24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/light-mode-icon-24px.9b2d2e3d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Bounding_Box\"\n}, React.createElement(\"rect\", {\n  fill: \"none\",\n  width: 24,\n  height: 24\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Master\"\n}, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M19.78,17.51c-2.47,0-6.57-1.33-8.68-5.43C8.77,7.57,10.6,3.6,11.63,2.01C6.27,2.2,1.98,6.59,1.98,12 c0,0.14,0.02,0.28,0.02,0.42C2.61,12.16,3.28,12,3.98,12c0,0,0,0,0,0c0-3.09,1.73-5.77,4.3-7.1C7.78,7.09,7.74,9.94,9.32,13 c1.57,3.04,4.18,4.95,6.8,5.86c-1.23,0.74-2.65,1.15-4.13,1.15c-0.5,0-1-0.05-1.48-0.14c-0.37,0.7-0.94,1.27-1.64,1.64 c0.98,0.32,2.03,0.5,3.11,0.5c3.5,0,6.58-1.8,8.37-4.52C20.18,17.5,19.98,17.51,19.78,17.51z\"\n}), React.createElement(\"path\", {\n  d: \"M7,16l-0.18,0C6.4,14.84,5.3,14,4,14c-1.66,0-3,1.34-3,3s1.34,3,3,3c0.62,0,2.49,0,3,0c1.1,0,2-0.9,2-2 C9,16.9,8.1,16,7,16z\"\n})));\n\nvar SvgDarkModeIcon24Px = function SvgDarkModeIcon24Px(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    x: \"0px\",\n    y: \"0px\",\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    enableBackground: \"new 0 0 24 24\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDarkModeIcon24Px, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dark-mode-icon-24px.40bbc899.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\n\nimport { useAppContext } from '../../app-context/app-context';\n\nimport { ReactComponent as LightModeIcon} from './light-mode-icon-24px.svg';\nimport { ReactComponent as DarkModeIcon} from './dark-mode-icon-24px.svg';\nimport './theme-mode-switch.css';\n\nexport default function ThemModeSwitch() {\n\tconst { toggleThemeMode } = useAppContext();\n\t\n\treturn (\n\t\t<div className=\"theme-mode-switch\">\n\t\t\t<LightModeIcon className=\"theme-mode-switch__icon\" />\n\t\t\t<div className=\"theme-mode-switch__control\">\n\t\t\t\t<div \n\t\t\t\t\tclassName=\"theme-mode-switch__button\"\n\t\t\t\t\tonClick={toggleThemeMode}\n\t\t\t\t\tonKeyDown={toggleThemeMode}\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<DarkModeIcon className=\"theme-mode-switch__icon\" />\n\t\t</div>\n\t)\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { shape, string, number, func } from 'prop-types';\n\nimport MediaImage from '../../../shared/media-image/media-image';\nimport MiniCard from '../../../shared/mini-card/mini-card';\n\nfunction SearchResult({ tvShow, onClick }) {\n\treturn (\n\t\t<Link \n\t\t\tclassName=\"searcher__result\" \n\t\t\tto={`/tvshow/${tvShow.id}`} \n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<MiniCard>\n\t\t\t\t<MiniCard.Media>\n\t\t\t\t\t<MediaImage \n\t\t\t\t\t\tpath={tvShow.backdropImagePath} \n\t\t\t\t\t\ttype=\"backdrop\"\n\t\t\t\t\t\tsizes=\"14vw\"\n\t\t\t\t\t\tratio={1.71}\n\t\t\t\t\t\talt={tvShow.name}\n\t\t\t\t\t/>\n\t\t\t\t</MiniCard.Media>\n\t\t\t\t<MiniCard.Title noMultiline>{tvShow.name}</MiniCard.Title>\n\t\t\t</MiniCard>\n\t\t</Link>\n\t);\n}\n\nSearchResult.propTypes = {\n\ttvShow: shape({\n\t\tid: number,\n\t\tname: string,\n\t\tbackdropImagePath: string\n\t}),\n\tonClick: func\n}\n\nexport default SearchResult;\n","import React, { useState, useEffect } from 'react';\n\nimport { useAppContext } from '../../app-context/app-context';\n\nimport SearchResult from './search-result/search-result';\n\nimport './searcher.css';\n\nconst SEARCH_QUERY = `\n\tquery SearchTvShows($searchTerm: String!) {\n\t\tsearchTvShows(searchTerm: $searchTerm) {\n\t\t\tid\n\t\t\tname\n\t\t\tbackdropImagePath\n\t\t}\n\t}\n`;\n\nexport default function Searcher() {\n\tconst [hasFocus, setFocus] = useState(false);\n\tconst [searchTerm, setSearchTerm] = useState('');\n\tconst [searchResults, setSearchResults] = useState([]);\n\tconst { apiClient } = useAppContext();\n\n\tconst onSubmit = (event) => {\n\t\tevent.preventDefault();\n\n\t\tif (searchTerm) {\n\t\t\tapiClient.sendQuery({ \n\t\t\t\tquery: SEARCH_QUERY,\n\t\t\t\tvariables: { searchTerm } \n\t\t\t})\n\t\t\t.then(({ data: { searchTvShows: results} }) => {\n\t\t\t\tsetSearchResults(results);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(`Error searching for Tv Shows  with term '${searchTerm}'`, error);\n\t\t\t});\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener('click', event => {\n\t\t\tconst $searcher = event.target.closest('.searcher');\n\t\t\tif (!$searcher) {\n\t\t\t\tsetFocus(false);\n\t\t\t}\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div className=\"searcher\">\n\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t<input \n\t\t\t\t\tclassName=\"searcher__search-term\" \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tname=\"searchTerm\" \n\t\t\t\t\tplaceholder=\"Type in your search term\" \n\t\t\t\t\tonFocus={() => setFocus(true)}\n\t\t\t\t\tvalue={searchTerm}\n\t\t\t\t\tonChange={event => setSearchTerm(event.target.value)}\n\t\t\t\t/>\n\t\t\t</form>\n\t\t\t{hasFocus && searchResults.length > 0 && \n\t\t\t\t<div className=\"searcher__results\">\n\t\t\t\t\t{searchResults.map(result => \n\t\t\t\t\t\t<SearchResult \n\t\t\t\t\t\t\tkey={result.id} \n\t\t\t\t\t\t\ttvShow={result} \n\t\t\t\t\t\t\tonClick={() => setSearchResults([])}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { object } from 'prop-types';\n\nimport { useAppContext } from '../../app-context/app-context';\n\nimport './error-modal.css';\n\nfunction ErrorModal({ error }) {\n\tconst { setError } = useAppContext();\n\tconsole.error('App unexpected error:', error);\n\n\treturn (\n\t\t<div className=\"error-modal\">\n\t\t\t<div className=\"error-modal__veil\"></div>\n\t\t\t<div className=\"error-modal__modal\">\n\t\t\t\t<div className=\"error-modal__head\"></div>\n\t\t\t\t<div className=\"error-modal__content\">\n\t\t\t\t\t<p>Ouch! It has been a totally unexpected error. Please try again in a minute.</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"error-modal__footer\">\n\t\t\t\t\t<button \n\t\t\t\t\t\tclassName=\"error-modal__close-button\"\n\t\t\t\t\t\tonClick={() => setError(null)}\n\t\t\t\t\t>Close</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nErrorModal.propTypes = {\n\terror: object\n};\n\nexport default ErrorModal;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { node } from 'prop-types';\n\nimport { useAppContext } from '../app-context/app-context';\nimport ThemeModeSwitch from './theme-mode-switch/theme-mode-switch';\nimport Searcher from './searcher/searcher';\nimport ErrorModal from '../shared/error-modal/error-modal';\n\nimport './layout-app.css';\n\nfunction LayoutApp({ children }) {\n\tconst { error, themeMode } = useAppContext();\n\t\n\treturn (\n\t\t<div className=\"layout-app\" data-thememode={themeMode}>\n\t\t\t<header className=\"layout-app__header\">\n\t\t\t\t<section className=\"layout-app__title-container\">\n\t\t\t\t\t<Link className=\"layout-app__title\" to=\"/\">THE MOVIE DATABASE</Link>\n\t\t\t\t\t<ThemeModeSwitch />\n\t\t\t\t</section>\n\t\t\t\t<section className=\"layout-app__search-container\">\n\t\t\t\t\t<Searcher />\n\t\t\t\t</section>\n\t\t\t</header>\n\t\t\t<main className=\"layout-app__main\">{children}</main>\n\t\t\t{error && <ErrorModal error={error} />}\n\t\t</div>\n\t);\n}\n\nLayoutApp.propTypes = {\n\tchildren: node\n};\n\nexport default LayoutApp;\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nexport default function ScrollToTop() {\n\tconst { pathname } = useLocation();\n\n\tuseEffect(() => {\n\t\twindow.scroll({\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tbehavior: 'smooth'\n\t\t});\n\t}, [pathname]);\n\n\treturn null;\n}\n","import React, { Suspense } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport buildLazyView from './plugins/lazy-view-builder';\n\nimport { AppProvider } from './components/app-context/app-context';\nimport Layout from './components/layout/layout-app';\nimport Loader from './components/shared/loader/loader';\nimport ScrollToTop from './components/shared/scroll-to-top/scroll-to-top';\n\nimport './App.css';\n\nconst HomeView = buildLazyView(() => import('./components/home/home-view'));\nconst TvShowDetailView = buildLazyView(() => import('./components/tvshow-detail/tvshow-detail-view'));\nconst SeasonDetailView = buildLazyView(() => import('./components/season-detail/season-detail-view'));\n\nlet basename = '/';\nif (process.env.NODE_ENV === 'production') {\n\tbasename = '/tmdb-front';\n}\n\nfunction App({ apiClient, userId, imagesConfig }) {\n\treturn (\n\t\t<AppProvider apiClient={apiClient} userId={userId} imagesConfig={imagesConfig}>\n\t\t\t<Router basename={basename}>\n\t\t\t\t<Suspense fallback={<Loader />}>\n\t\t\t\t\t<Layout>\n\t\t\t\t\t\t<ScrollToTop />\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route path=\"/tvshow/:tvShowId/season/:seasonNumber\">\n\t\t\t\t\t\t\t\t\t<SeasonDetailView />\n\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t\t<Route path=\"/tvshow/:tvShowId\">\n\t\t\t\t\t\t\t\t\t<TvShowDetailView />\n\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t\t<Route path=\"/\" exact>\n\t\t\t\t\t\t\t\t\t<HomeView />\n\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</Layout>\n\t\t\t\t</Suspense>\n\t\t\t</Router>\n\t\t</AppProvider>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { GraphQLClient } from 'graphql-request';\n\nclass ApiClient {\n\tconstructor({ apiUrl, userId }) {\n\t\tthis.client = new GraphQLClient(apiUrl, {\n\t\t\theaders: { userToken: userId }\n\t\t});\n\t}\n\n\tsendQuery({ query, variables }) {\n\t\treturn this.client.request(query, variables)\n\t\t\t.then(data => ({ data }));\n\t}\n\n\tsendMutation({ mutation, variables }) {\n\t\treturn this.client.request(mutation, variables)\n\t\t\t.then(data => ({ data }));\n\t}\n\n\tcreateFragment(fragmentDefinition) {\n\t\treturn this.client.createFragment(fragmentDefinition);\n\t}\n}\n\nexport default ApiClient;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport ApiClient from './plugins/api-client';\n\nlet API_URL = 'http://localhost:4000';\nif (process.env.NODE_ENV === 'production') {\n\tAPI_URL = 'https://tmdb-graphql-api.herokuapp.com';\n}\n\nfunction getUserId() {\n\tlet userId = localStorage.getItem('ut');\n\n\tif (!userId) {\n\t\tuserId = btoa(Date.now());\n\t\tlocalStorage.setItem('ut', userId);\n\t}\n\t\n\treturn userId;\n}\n\nconst userId = getUserId();\n\nconst apiClient = new ApiClient({ apiUrl: API_URL, userId });\n\napiClient.sendQuery({ \n\tquery: `\n\t\tquery {\n\t\t\tgetImagesConfiguration {\n\t\t\t\tbaseUrl\n\t\t\t\tbackdropSizes\n\t\t\t\tlogoSizes\n\t\t\t\tposterSizes\n\t\t\t\tprofileSizes\n\t\t\t\tstillSizes\n\t\t\t}\n\t\t}\n\t`\n})\n.then(({ data: { getImagesConfiguration: imagesConfig } }) => {\n\tReactDOM.render(\n\t\t<App \n\t\t\tapiClient={apiClient} \n\t\t\tuserId={userId}\n\t\t\timagesConfig={imagesConfig}\n\t\t/>,\n\t\tdocument.getElementById('root')\n\t);\n})\n.catch(error => {\n\tconsole.error('Error loading images configuration.', error);\n});\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}