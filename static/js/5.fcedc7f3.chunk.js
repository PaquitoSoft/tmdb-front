(this["webpackJsonptmdb-front"]=this["webpackJsonptmdb-front"]||[]).push([[5],{38:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a(9),r=a(0),s=a(13);function o(t){var e=t.query,a=t.params,o=void 0===a?{}:a,i=Object(s.b)().apiClient,c=Object(r.useState)(!0),l=Object(n.a)(c,2),v=l[0],m=l[1],u=Object(r.useState)(),h=Object(n.a)(u,2),d=h[0],w=h[1],f=Object(r.useState)(),b=Object(n.a)(f,2),p=b[0],_=b[1],S=btoa(JSON.stringify(o));return Object(r.useEffect)((function(){var t=!1;return m(!0),i.query({query:e,variables:o}).then((function(e){if(t)return null;e.errors?_(e.errors):w(e.data),m(!1)})).catch((function(t){_(t),m(!1)})),function(){return t=!0}}),[S]),{isFetching:v,data:d,error:p}}},39:function(t,e,a){"use strict";var n=a(0),r=a.n(n);a(40);function s(t){var e=t.ratingValue,a=t.size,n=void 0===a?"small":a,s=t.className,o=void 0===s?"":s;return r.a.createElement("span",{className:"rating-icon rating-icon--".concat(n," ").concat(o)},e.toFixed(1))}s.sizes={SMALL:"small",BIG:"big"},e.a=s},40:function(t,e,a){},43:function(t,e,a){},47:function(t,e,a){"use strict";function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.r(e);var r=a(9),s=a(0),o=a.n(s),i=a(6),c=a(5),l=a(13),v=a(38),m=a(15),u=a(39);a(43);function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function d(t){var e=t.character,a=e.imagePath,n=e.name,r=e.actorName;return o.a.createElement(m.a,{mediaUrl:"https://image.tmdb.org/t/p/w138_and_h175_face/".concat(a),title:r,subtitle:n})}function w(t){var e=t.season,a=t.tvShowId,n=e.posterPath,r=e.seasonNumber,s=e.airDate,c=e.episodesCount;return o.a.createElement(i.b,{to:"/tvshow/".concat(a,"/season/").concat(r)},o.a.createElement(m.a,{mediaUrl:"https://image.tmdb.org/t/p/w130_and_h195_bestv2".concat(n),title:"Season ".concat(r),subtitle:o.a.createElement("span",null,"(",s,")",o.a.createElement("br",null),c," Episodes")}))}a.d(e,"default",(function(){return _}));var f="\n\tquery TvShowDetails($tvShowId: Int!) {\n\t\tgetTvShowDetails(tvShowId: $tvShowId) {\n\t\t\tid\n\t\t\tname\n\t\t\tposterPath\n\t\t\tfirstAirDate\n\t\t\toverview\n\t\t\tvotesAverage\n\t\t\tisFavorite\n\t\t\tseasons {\n\t\t\t\tseasonNumber\n\t\t\t\tposterPath\n\t\t\t\tairDate\n\t\t\t\tepisodesCount\n\t\t\t}\n\t\t\tcast {\n\t\t\t\tid\n\t\t\t\timagePath\n\t\t\t\tname\n\t\t\t\tactorName\n\t\t\t}\n\t\t}\n\t}\n",b="\n\tmutation SaveFavoriteTvShow($tvShowId: Int!) {\n\t\tsaveFavoriteTvShow(tvShowId: $tvShowId)\n\t}\n",p="\n\tmutation RemoveFavoriteTvShow($tvShowId: Int!) {\n\t\tremoveFavoriteTvShow(tvShowId: $tvShowId)\n\t}\n";function _(){var t=Object(c.g)().tvShowId,e=Object(l.b)().apiClient,a=Object(s.useState)(),i=Object(r.a)(a,2),m=i[0],_=i[1],S=Object(v.a)({query:f,params:{tvShowId:parseInt(t,0)}}),g=S.isFetching,E=S.data,O=S.error,N=function(a){var r=a.tvShow,s=a.isFavorite;e.query({query:s?p:b,variables:{tvShowId:r.id}}).then((function(){_(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(a,!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},r,{isFavorite:!s}))})).catch((function(e){console.error("Error setting favorite value for TvShow ".concat(t))}))};if(g||O)return null;var j=m||E.getTvShowDetails,y=j.id,I=j.name,P=j.posterPath,D=j.firstAirDate,F=j.overview,T=j.votesAverage,q=j.isFavorite,k=j.seasons,C=void 0===k?[]:k,$=j.cast,A=void 0===$?[]:$;return o.a.createElement("section",{className:"tvshow-detail"},o.a.createElement("div",{className:"tvshow-detail__main-info"},o.a.createElement("section",{className:"tvshow-detail__poster"},o.a.createElement("img",{className:"tvshow-detail__poster",src:"https://image.tmdb.org/t/p/w300_and_h450_bestv2".concat(P),alt:I})),o.a.createElement("section",{className:"tvshow-detail__info-container"},o.a.createElement("div",{className:"tvshow-detail__title"},o.a.createElement("h1",{className:"tvshow-detail__name"},I),o.a.createElement("span",{className:"tvshow-detail__year"},"(",new Date(D).toDateString(),")"),o.a.createElement(u.a,{className:"tvshow-detail__rating",ratingValue:T,size:u.a.sizes.BIG})),o.a.createElement("div",{className:"tvshow-detail__overview-title"},o.a.createElement("h2",{className:"tvshow-detail__overview-label"},"Overview"),o.a.createElement("img",{className:"tvshow-detail__favorite-icon",src:"/favorite".concat(q?"":"_border","-24px.svg"),alt:"Is not a favorite tv show",onClick:function(){N({isFavorite:q,tvShow:j})}})),o.a.createElement("p",{className:"tvshow-detail__overview-description"},F))),o.a.createElement("hr",{className:"tvshow-detail__separator"}),o.a.createElement("section",{className:"tvshow-detail__cast"},o.a.createElement("h2",{className:"tvshow-detail__cast-title"},"Tv Show Cast"),o.a.createElement("div",{className:"tvshow-detail__characters"},A.map((function(t){return o.a.createElement(d,{key:t.id,character:t})})))),o.a.createElement("hr",{className:"tvshow-detail__separator"}),o.a.createElement("section",{className:"tvshow-detail__seasons-container"},o.a.createElement("h2",{className:"tvshow-detail__seasons-title"},"Seasons"),o.a.createElement("div",{className:"tvshow-detail__seasons-list"},C.map((function(t){return o.a.createElement(w,{key:t.seasonNumber,season:t,tvShowId:y})})))))}}}]);
//# sourceMappingURL=5.fcedc7f3.chunk.js.map